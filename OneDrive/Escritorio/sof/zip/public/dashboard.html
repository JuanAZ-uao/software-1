<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Universidad Connect</title>
    <link rel="stylesheet" href="styles/globals.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/themes.css">
</head>
<body>
    <div class="app">
        <header class="header">
            <div class="container">
                <div class="header__inner">
                    <div class="brand">
                        <div class="brand__logo"></div>
                        <span class="brand__name">Universidad Connect</span>
                    </div>
                    <nav class="nav">
                        <span id="user-info">Cargando...</span>
                        <button id="logout-btn" class="btn">Cerrar SesiÃ³n</button>
                    </nav>
                </div>
            </div>
        </header>
        
        <main class="container" style="padding: 40px 0;">
            <div class="card">
                <h1>ðŸŽ‰ Â¡Bienvenido al Dashboard!</h1>
                <p>Has iniciado sesiÃ³n correctamente.</p>
                <div id="user-details" class="mt-4"></div>
                
                <div class="mt-8">
                    <h3>âœ… Sistema de AutenticaciÃ³n Funcionando</h3>
                    <ul>
                        <li>âœ… Login con base de datos</li>
                        <li>âœ… Registro de nuevos usuarios</li>
                        <li>âœ… ProtecciÃ³n de rutas</li>
                        <li>âœ… GestiÃ³n de sesiones</li>
                    </ul>
                </div>
            </div>
        </main>
    </div>

    <script>
        // Verificar autenticaciÃ³n
        function isAuthenticated() {
            return !!localStorage.getItem('uc_auth');
        }

        function getCurrentUser() {
            try {
                return JSON.parse(localStorage.getItem('uc_auth') || 'null');
            } catch {
                return null;
            }
        }

        function logout() {
            localStorage.removeItem('uc_auth');
            window.location.href = '/';
        }

        // Cargar informaciÃ³n del usuario
        document.addEventListener('DOMContentLoaded', () => {
            if (!isAuthenticated()) {
                window.location.href = '/';
                return;
            }

            const user = getCurrentUser();
            if (user) {
                document.getElementById('user-info').textContent = `Hola, ${user.name}`;
                document.getElementById('user-details').innerHTML = `
                    <div class="card">
                        <h4>InformaciÃ³n del Usuario</h4>
                        <p><strong>Nombre:</strong> ${user.name}</p>
                        <p><strong>Email:</strong> ${user.email}</p>
                        <p><strong>TelÃ©fono:</strong> ${user.telefono}</p>
                        <p><strong>Tipo:</strong> ${user.tipo}</p>
                    </div>
                `;
            }

            // Evento de logout
            document.getElementById('logout-btn').addEventListener('click', logout);
        });
    </script>
</body>
</html>